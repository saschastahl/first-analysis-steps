<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>LHCb Starterkit: First Steps in LHCb</title>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="css/swc.css" />
    <link rel="alternate" type="application/rss+xml" title="Software Carpentry Blog" href="http://software-carpentry.org/feed.xml"/>
    <meta charset="UTF-8" />
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body class="lesson">
    <div class="container card">
      <div class="banner">
        <a href="https://lhcb.github.io/first-analysis-steps/">
          <img src="img/starterkit.png" height="100" alt="LHCb Starterkit">
        </a>
      </div>
      <div class="row">
        <div class="col-md-10 col-md-offset-1">
          <h1 class="title">First Steps in LHCb</h1>
          <h2 class="subtitle">Install party</h2>
<div id="learning-objectives" class="objectives panel panel-warning">
<div class="panel-heading">
<h2><span class="glyphicon glyphicon-certificate"></span>Learning Objectives</h2>
</div>
<div class="panel-body">
<ul>
<li>Install git from source</li>
<li>Install Anaconda</li>
</ul>
</div>
</div>
<p>The <code>lhcbstarterkitN</code> machines you used during this workshop will stop existing after the weekend. In order for you to keep using the great tools you learnt about in the last few days on <code>lxplus</code> you have to install them there by hand.</p>
<div id="health-warning" class="callout panel panel-info">
<div class="panel-heading">
<h2><span class="glyphicon glyphicon-pushpin"></span>Health warning</h2>
</div>
<div class="panel-body">
<p>Once you install things yourself you have an environment that is different from the &quot;standard&quot; LHCb setup. It means you have to keep software up-to-date yourself and when things start going wrong everyone will blame it on your custom setup. Keep that in mind. With great tools, comes great responsibility.</p>
</div>
</div>
<p>These instructions are fairly straight forward and set you up with all the tools you learnt about in the last few days. It is also fairly easy to undo this setup and return to the standard LHCb setup.</p>
<p>We will install a modern version of <code>git</code> and the <code>Anaconda</code> python distribution.</p>
<p><code>Anaconda</code> is a complete set of <code>python</code> interpreter and useful libraries. For example it comes with <code>ipython</code> pre-installed as well as <code>matplotlib</code> and <code>scikit-learn</code>.</p>
<p>To install <code>Anaconda</code> on lxplus or your Mac/Linux laptop follow these instructions:</p>
<ol style="list-style-type: decimal">
<li>Visit the <a href="http://continuum.io/downloads"><code>Anaconda downloads</code></a> page.</li>
<li>Make sure to select the correct operating system (Windows, Mac or Linux)</li>
<li>For <code>lxplus</code> download the <a href="https://3230d63b5fc54e62148e-c95ac804525aac4b6dba79b00b39d1d3.ssl.cf1.rackcdn.com/Anaconda-2.2.0-Linux-x86_64.sh">Linux 64bit - Python2.7</a> installer.</li>
<li>Then on <code>lxplus</code> type <code>bash Anaconda-2.2.0-Linux-x86_64.sh</code> in the directory to which you downloaded the installer. Use <code>bash</code> no matter what your shell actually is.</li>
<li>Follow the on-screen instructions and go with the default answer to all questions.</li>
</ol>
<p>This will install a modern set of python libraries to <code>~/anaconda</code>. This means you need to have some free space on your AFS home directory. Once it is done check that the installer added these two lines to your <code>.bashrc</code>:</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="co"># added by Anaconda 2.2.0 installer</span>
<span class="kw">export</span> <span class="ot">PATH=</span><span class="st">&quot;~/anaconda/bin:</span><span class="ot">$PATH</span><span class="st">&quot;</span></code></pre>
<p>Log out of <code>lxplus</code> and back in. Now you should be able to start <code>python</code> as well as <code>ipython</code>, etc.</p>
<div id="removing-anaconda" class="callout panel panel-info">
<div class="panel-heading">
<h2><span class="glyphicon glyphicon-pushpin"></span>Removing Anaconda</h2>
</div>
<div class="panel-body">
<p>To remove <code>Anaconda</code> temporarily, simply comment out the two lines that were added to your <code>.bashrc</code> file. To permanently remove it simply delete the <code>anaconda</code> directory in your home directory.</p>
</div>
</div>
<p>To install <code>git</code> &quot;from source&quot; on <code>lxplus</code> follow these instructions.</p>
<ol style="list-style-type: decimal">
<li>Visit the <a href="https://github.com/git/git">git repository</a> on github</li>
<li>Click on &quot;releases&quot;, which takes you to the list of <a href="https://github.com/git/git/releases">all git releases</a></li>
<li><p>Download the <code>.tar.gz</code> for the latest release (2.4.1) to <code>lxplus</code>:</p>
<pre class="sourceCode bash"><code class="sourceCode bash">$ <span class="kw">wget</span> https://github.com/git/git/archive/v2.4.1.tar.gz</code></pre></li>
<li>unpack the <code>.tar.gz</code> with <code>tar xzf v2.4.1.tar.gz</code></li>
<li>Change to the newly created <code>git-2.4.1</code> directory: <code>cd git-2.4.1</code></li>
<li>Follow the <a href="https://github.com/git/git/blob/master/INSTALL">INSTALL</a> instructions.</li>
<li><p>To install <code>git</code> in your home directory type:</p>
<pre class="sourceCode bash"><code class="sourceCode bash">$ <span class="kw">export</span> <span class="ot">CURLDIR=$HOME</span>/anaconda
$ <span class="kw">mkdir</span> <span class="ot">$HOME</span>/git-install-2.4.1
$ <span class="kw">make</span> prefix=<span class="ot">$HOME</span>/git-install-2.4.1
$ <span class="kw">make</span> prefix=<span class="ot">$HOME</span>/git-install-2.4.1 install</code></pre></li>
<li><p>Add the following line to your <code>.bashrc</code>:</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">export</span> <span class="ot">PATH=</span><span class="st">&quot;</span><span class="ot">$HOME</span><span class="st">/git-install-2.4.1/bin:</span><span class="ot">$PATH</span><span class="st">&quot;</span></code></pre></li>
</ol>
<div id="removing-git" class="callout panel panel-info">
<div class="panel-heading">
<h2><span class="glyphicon glyphicon-pushpin"></span>Removing git</h2>
</div>
<div class="panel-body">
<p>To temporarily remove <code>git</code> remove the line you added to your <code>.bashrc</code>, and delete the <code>git-install-2.4.1</code> directory in your home directory to remove it permanently.</p>
</div>
</div>
        </div>
      </div>
      <div class="footer">
        <a class="label swc-blue-bg" href="http://software-carpentry.org">Software Carpentry</a>
        <a class="label swc-blue-bg" href="https://github.com/lhcb/first-analysis-steps">Source</a>
        <a class="label swc-blue-bg" href="mailto:lhcb-starterkit@cern.ch">Contact</a>
        <a class="label swc-blue-bg" href="LICENSE.html">License</a>
      </div>
    </div>
    <!-- Javascript placed at the end of the document so the pages load faster -->
    <script src="http://software-carpentry.org/v5/js/jquery-1.9.1.min.js"></script>
    <script src="css/bootstrap/bootstrap-js/bootstrap.js"></script>
  </body>
</html>
